<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nguy·ªÖn Du</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    .drum-container {
      border: none !important;
      height: 572px;
    }

    .nguyendu {
      display: flex;
      position: absolute !important;
      width: auto !important;
      height: 70% !important;
      bottom: -2px;
      left: -56px;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .forum-button {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 60px;
      height: 60px;
      background-color: #ff9f00;
      color: white;
      border-radius: 50%;
      font-size: 24px;
      display: flex;
      justify-content: center;
      align-items: center;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      transition: transform 0.2s ease;
    }

    .forum-button:hover {
      transform: scale(1.1);
    }

    .download-tp {
      background-color: #fffe00;
      color: black;
      outline: none;
      border: none;
      width: 100%;
      height: 45px;
      font-size: 20px;
      border-radius: 10px;
      margin: 30px 0px 70px 0px;
    }

    .download-tp:hover {
      background: #ff7830;
    }

    /* Reading Progress Bar */
    .reading-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      z-index: 9999;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #ff9f00, #ff6b35);
      width: 0%;
      transition: width 0.3s ease;
    }

    /* Audio Controls */
    .audio-controls {
      position: fixed;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 10px;
      background: rgba(255, 255, 255, 0.95);
      padding: 15px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .audio-btn {
      width: 50px;
      height: 50px;
      border: none;
      border-radius: 50%;
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .audio-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(255, 159, 0, 0.4);
    }

    .volume-control {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .volume-slider {
      writing-mode: bt-lr;
      /* IE */
      -webkit-appearance: slider-vertical;
      /* WebKit */
      appearance: slider-vertical;
      /* Standard */
      width: 10px;
      height: 80px;
      background: linear-gradient(to top, #ff9f00, #ff6b35);
      outline: none;
    }

    /* Settings Panel */
    .settings-panel {
      position: fixed;
      bottom: 100px;
      right: 20px;
      z-index: 1000;
    }

    .settings-btn {
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 50%;
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .settings-btn:hover {
      transform: scale(1.1);
    }

    .settings-menu {
      position: absolute;
      bottom: 70px;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(10px);
      display: none;
      min-width: 200px;
    }

    .settings-menu.show {
      display: block;
      animation: fadeInUp 0.3s ease;
    }

    .setting-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 10px 0;
      padding: 10px;
      background: rgba(255, 159, 0, 0.1);
      border-radius: 10px;
    }

    .setting-item label {
      font-weight: bold;
      color: #2c3e50;
    }

    .setting-item button {
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      margin: 0 2px;
      transition: all 0.3s ease;
    }

    .setting-item button:hover {
      transform: scale(1.05);
    }

    /* Dark Mode */
    body.dark-mode {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: #ecf0f1;
    }

    body.dark-mode .text-container {
      background: rgba(44, 62, 80, 0.95);
      color: #ecf0f1;
    }

    body.dark-mode .navbar {
      background: linear-gradient(135deg, #34495e, #2c3e50) !important;
    }

    /* Highlight Text Feature */
    .highlight {
      background: linear-gradient(120deg, rgba(255, 159, 0, 0.3) 0%, rgba(255, 159, 0, 0.3) 100%);
      padding: 2px 4px;
      border-radius: 3px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .highlight:hover {
      background: linear-gradient(120deg, rgba(255, 159, 0, 0.5) 0%, rgba(255, 159, 0, 0.5) 100%);
    }

    /* Bookmark Feature */
    .bookmark-btn {
      position: absolute;
      right: 10px;
      top: 10px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .bookmark-btn:hover {
      transform: scale(1.2);
    }

    .bookmark-btn.bookmarked {
      color: #ff9f00;
    }

    /* Character Cards */
    .character-section {
      margin: 40px 0;
    }

    .character-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .character-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .character-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 159, 0, 0.2), transparent);
      transition: left 0.5s;
    }

    .character-card:hover::before {
      left: 100%;
    }

    .character-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 35px rgba(255, 159, 0, 0.3);
    }

    .character-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      margin: 0 auto 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
    }

    .character-name {
      font-size: 1.3rem;
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .character-description {
      font-size: 0.9rem;
      color: #555;
      line-height: 1.4;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .audio-controls {
        right: 10px;
        padding: 10px;
      }

      .audio-btn {
        width: 40px;
        height: 40px;
        font-size: 1rem;
      }

      .volume-slider {
        height: 60px;
      }

      .settings-panel {
        bottom: 80px;
        right: 10px;
      }

      .settings-btn {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }
    }

    /* Quiz Styles */
    .quiz-section {
      position: relative;
    }

    .quiz-question {
      margin-bottom: 30px;
    }

    .quiz-question h4 {
      color: #2c3e50;
      margin-bottom: 20px;
    }

    .quiz-options {
      display: grid;
      gap: 15px;
    }

    .quiz-option {
      background: rgba(255, 159, 0, 0.1);
      border: 2px solid transparent;
      padding: 15px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .quiz-option:hover {
      background: rgba(255, 159, 0, 0.2);
      border-color: #ff9f00;
    }

    .quiz-option.selected {
      background: rgba(255, 159, 0, 0.3);
      border-color: #ff9f00;
    }

    .quiz-option.correct {
      background: rgba(46, 204, 113, 0.2);
      border-color: #2ecc71;
    }

    .quiz-option.incorrect {
      background: rgba(231, 76, 60, 0.2);
      border-color: #e74c3c;
    }

    .quiz-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 30px;
    }

    .quiz-btn {
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .quiz-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 159, 0, 0.4);
    }

    .quiz-score {
      font-weight: bold;
      color: #2c3e50;
      font-size: 1.2rem;
    }

    /* Timeline Interactive Styles */
    .timeline-interactive {
      display: flex;
      justify-content: space-between;
      margin: 30px 0;
      position: relative;
    }

    .timeline-interactive::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #ff9f00, #ff6b35);
      z-index: 1;
    }

    .timeline-point {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 2;
    }

    .timeline-marker {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #666;
      transition: all 0.3s ease;
    }

    .timeline-point.active .timeline-marker {
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      transform: scale(1.2);
      box-shadow: 0 5px 15px rgba(255, 159, 0, 0.4);
    }

    .timeline-label {
      margin-top: 10px;
      text-align: center;
      font-size: 0.9rem;
      color: #555;
      max-width: 100px;
    }

    .timeline-point.active .timeline-label {
      color: #ff9f00;
      font-weight: bold;
    }

    .timeline-content {
      background: rgba(255, 159, 0, 0.1);
      padding: 25px;
      border-radius: 15px;
      margin-top: 30px;
      border-left: 4px solid #ff9f00;
    }

    .timeline-content h4 {
      color: #2c3e50;
      margin-bottom: 15px;
    }

    .timeline-content p {
      color: #555;
      line-height: 1.6;
    }

    /* Character Modal */
    .character-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .character-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .character-modal-content {
      background: white;
      padding: 40px;
      border-radius: 20px;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }

    .character-modal .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      background: none;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      color: #999;
    }

    .character-modal .close-btn:hover {
      color: #ff9f00;
    }

    /* Responsive Timeline */
    @media (max-width: 768px) {
      .timeline-interactive {
        flex-direction: column;
        gap: 20px;
      }

      .timeline-interactive::before {
        display: none;
      }

      .timeline-point {
        flex-direction: row;
        justify-content: flex-start;
        gap: 15px;
      }

      .timeline-marker {
        width: 40px;
        height: 40px;
      }

      .timeline-label {
        margin-top: 0;
        max-width: none;
        text-align: left;
      }
    }
  </style>
</head>

<body>
  <!-- Progress Bar -->
  <div class="reading-progress">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- Audio Controls -->
  <!-- <div class="audio-controls" id="audioControls">
    <button class="audio-btn" id="playBtn" onclick="toggleAudio()">üéµ</button>
    <button class="audio-btn" id="speedBtn" onclick="changeSpeed()">1x</button>
    <div class="volume-control">
      <button class="audio-btn" onclick="toggleMute()">üîä</button>
      <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="50">
    </div>
  </div> -->

  <!-- Settings Panel -->
  <!-- <div class="settings-panel" id="settingsPanel">
    <button class="settings-btn" onclick="toggleSettings()">‚öôÔ∏è</button>
    <div class="settings-menu" id="settingsMenu">
      <div class="setting-item">
        <label>C·ª° ch·ªØ:</label>
        <button onclick="changeFontSize(-1)">A-</button>
        <span id="fontSizeDisplay">100%</span>
        <button onclick="changeFontSize(1)">A+</button>
      </div>
      <div class="setting-item">
        <label>Ch·∫ø ƒë·ªô:</label>
        <button onclick="toggleDarkMode()" id="darkModeBtn">üåô</button>
      </div>
    </div>
  </div> -->

  <a href="forum.html" class="forum-button"> üí¨ </a>

  <nav class="navbar navbar-expand-lg bg-body-tertiary" class="navbar" style="background-color: #ff9f00">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html"><img src="img/snapedit_1745406959124.jpeg" class="avt" alt="" /></a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active underline-animate" aria-current="page" href="Tieusu.html">üïëTi·ªÉu s·ª≠</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="vinhdanhvacongnhan.html">üèõÔ∏è Vinh danh v√† c√¥ng nh·∫≠n</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="giatridisanvavanhoa.html">üè∫ Gi√° tr·ªã di s·∫£n v√† vƒÉn h√≥a</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="congtacbaotonvaphathuy.html">üé¨ C√¥ng t√°c b·∫£o t·ªìn v√† ph√°t huy</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="TruyenKieu.html">üí≠Truy·ªán Ki·ªÅu</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="trichdannoidai.html">üìúTr√≠ch d·∫´n n·ªïi ti·∫øng</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="boicanhlichsu.html">üèõÔ∏èB·ªëi c·∫£nh l·ªãch s·ª≠</a>
          </li>
          <li class="nav-item">
            <a href="2005VDLA038 .pdf" download>
              <button class="logout-btn">
                T·∫£i th√¥ng tin chi ti·∫øt t·∫°i ƒë√¢y
              </button>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div style="
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
        ">
      <div style="display: flex; align-items: center">
        <img src="https://i.pravatar.cc/100" class="avt" id="userAvatar" alt="avatar" />

        <h4 id="welcomeText" style="margin: 0"></h4>
        <input type="file" id="avatarInput" accept="image/*" style="display: none" />
      </div>
      <button class="logout-btn" onclick="logout()">ƒêƒÉng xu·∫•t</button>
    </div>
  </nav>
  <div class="content">
    <div class="image-container">
      <div class="drum-container">
        <img class="chin rotate-cw" src="img/Vong 09.svg" alt="V√≤ng ngo√†i c√πng" />
        <img class="tam rotate-ccw" src="img/Vong 08.svg" alt="V√≤ng gi·ªØa" />
        <img class="bay rotate-cw" src="img/Vong 07.svg" alt="V√≤ng trong c√πng" />
        <img class="sau rotate-ccw" src="img/Vong 06.svg" alt="V√≤ng trong nh·∫•t" />
        <img class="nam rotate-cw" src="img/Vong 05.svg" alt="V√≤ng trong nh√¨" />
        <img class="tu rotate-ccw" src="img/Vong 04.svg" alt="V√≤ng trong tam" />
        <img class="ba rotate-cw" src="img/Vong 03.svg" alt="V√≤ng trong t·ª©" />
        <img class="hai rotate-ccw" src="img/Vong 02.svg" alt="V√≤ng trong ng≈©" />
        <img class="mot rotate-cw" src="img/Vong 01.svg" alt="V√≤ng trong l·ª•c" />
        <img class="nguyendu" src="img/anhnguyendu.png" alt="·∫£nh Nguy·ªÖn Du" />
      </div>
      <div class="anhtruyenkieu">
        <img src="img/screenshot_1745478436.png" alt="" style="width: 100%; height: auto" /><br />
        <p style="text-align: center">
          Cu·ªën truy·ªán Ki·ªÅu n·∫∑ng nh·∫•t th·∫ø gi·ªõi(75kg) <br />
          [Ngu·ªìn: Ph·∫°m Th·ªã V√¢n Nam ]
        </p>
      </div>
    </div>
    <div class="text-container" style="font-family: 'Lora', 'Times New Roman', serif">
      <p>
        üå∏ <strong>1. Gi·ªõi thi·ªáu chung</strong><br />
        T√™n ƒë·∫ßy ƒë·ªß: <em>ƒêo·∫°n Tr∆∞·ªùng T√¢n Thanh</em> (nghƒ©a l√† ‚ÄúTi·∫øng k√™u m·ªõi
        trong n·ªói ƒëau ƒë·ª©t ru·ªôt‚Äù)<br />
        T√™n th∆∞·ªùng g·ªçi: <em>Truy·ªán Ki·ªÅu</em><br />
        T√°c gi·∫£: <strong>Nguy·ªÖn Du</strong> (1765‚Äì1820)<br />
        Th·ªÉ lo·∫°i: <em>Truy·ªán th∆° N√¥m</em><br />
        Th·ªÉ th∆°: <em>L·ª•c b√°t (6‚Äì8)</em><br />
        S·ªë c√¢u: <strong>3.254 c√¢u</strong>
      </p>

      <p>
        üßæ <strong>2. Ngu·ªìn g·ªëc & c·ªët truy·ªán</strong><br />
        Nguy·ªÖn Du d·ª±a v√†o ti·ªÉu thuy·∫øt <em>Thanh T√¢m T√†i Nh√¢n truy·ªán</em> c·ªßa
        Trung Qu·ªëc, song ƒë√£ s√°ng t·∫°o l·∫°i ho√†n to√†n, bi·∫øn n√≥ th√†nh m·ªôt t√°c ph·∫©m
        mang ƒë·∫≠m h·ªìn Vi·ªát, nh√¢n sinh quan v√† t√¢m th·ª©c ng∆∞·ªùi Vi·ªát.
      </p>

      <p>
        üß≠ <strong>3. T√≥m t·∫Øt n·ªôi dung Truy·ªán Ki·ªÅu</strong><br />
        <em>‚ÄúTrƒÉm nƒÉm trong c√µi ng∆∞·ªùi ta...‚Äù</em><br />
        C√¢u chuy·ªán xoay quanh cu·ªôc ƒë·ªùi Th√∫y Ki·ªÅu, m·ªôt c√¥ g√°i t√†i s·∫Øc v·∫πn to√†n,
        ph·∫£i tr·∫£i qua 15 nƒÉm l∆∞u l·∫°c v√¨ ch·ªØ hi·∫øu, v√¨ s·ªë ph·∫≠n nghi·ªát ng√£. N·ªôi
        dung ƒë∆∞·ª£c chia th√†nh 3 ph·∫ßn l·ªõn:
      </p>

      <p>
        ‚û§ <strong>Ph·∫ßn 1: G·∫∑p g·ª° v√† ƒë√≠nh ∆∞·ªõc (c√¢u 1‚Äì588)</strong><br />
        Th√∫y Ki·ªÅu g·∫∑p Kim Tr·ªçng, hai ng∆∞·ªùi ph·∫£i l√≤ng nhau v√† th·ªÅ nguy·ªÅn g·∫Øn
        b√≥.<br />
        Tai h·ªça ·∫≠p ƒë·∫øn: cha v√† em trai Ki·ªÅu b·ªã vu oan.
      </p>

      <p>
        ‚û§ <strong>Ph·∫ßn 2: Gia bi·∫øn v√† l∆∞u l·∫°c (c√¢u 589‚Äì2.342)</strong><br />
        Ki·ªÅu b√°n m√¨nh chu·ªôc cha, r∆°i v√†o tay M√£ Gi√°m Sinh ‚Äì T√∫ B√† ‚Äì r·ªìi b·ªã ƒë·∫©y
        v√†o l·∫ßu xanh.<br />
        Tr·∫£i qua nhi·ªÅu bi·∫øn c·ªë, b·ªã l·ª´a d·ªëi, b·ªã √©p l√†m v·ª£ H·ªì T√¥n Hi·∫øn, r·ªìi tr·ªën
        tho√°t.<br />
        Ki·ªÅu ƒë∆∞·ª£c T·ª´ H·∫£i (m·ªôt ng∆∞·ªùi anh h√πng) c·ª©u v√† y√™u th∆∞∆°ng, nh∆∞ng T·ª´ H·∫£i
        b·ªã l·ª´a, ch·∫øt tr·∫≠n. Ki·ªÅu b·ªã b·∫Øt v·ªÅ cung v√† ph·∫£i ƒë√†n cho H·ªì T√¥n Hi·∫øn
        nghe.
      </p>

      <p>
        ‚û§ <strong>Ph·∫ßn 3: ƒêo√†n t·ª• (c√¢u 2.343‚Äì3.254)</strong><br />
        Ki·ªÅu nh·∫£y s√¥ng t·ª± t·ª≠ nh∆∞ng ƒë∆∞·ª£c s∆∞ Gi√°c Duy√™n c·ª©u.<br />
        G·∫∑p l·∫°i gia ƒë√¨nh v√† Kim Tr·ªçng. H·ªç t√°i ng·ªô trong ni·ªÅm ƒëau v√† h·∫°nh
        ph√∫c.<br />
        Tuy kh√¥ng tr·ªü l·∫°i t√¨nh y√™u l·ª©a ƒë√¥i, nh∆∞ng t√¨nh nghƒ©a v·∫´n v·∫πn to√†n.
      </p>

      <p>üé® <strong>4. Gi√° tr·ªã ngh·ªá thu·∫≠t</strong></p>

      <p>
        ‚úíÔ∏è <strong>Ng√¥n ng·ªØ ƒëi√™u luy·ªán:</strong><br />
        Nguy·ªÖn Du ƒë√£ n√¢ng ng√¥n ng·ªØ d√¢n t·ªôc l√™n ƒë·ªânh cao v·ªõi th·ªÉ th∆° l·ª•c b√°t
        m·ªÅm m·∫°i, uy·ªÉn chuy·ªÉn, gi√†u t√≠nh bi·ªÉu c·∫£m.<br />
        D√πng nhi·ªÅu ƒëi·ªÉn t√≠ch, ·∫©n d·ª•, ho√°n d·ª•, ng√¥n ng·ªØ b√¨nh d√¢n k·∫øt h·ª£p b√°c
        h·ªçc.
      </p>

      <p>
        üñãÔ∏è <strong>Ngh·ªá thu·∫≠t mi√™u t·∫£:</strong><br />
        T·∫£ ng∆∞·ªùi: ‚ÄúM·ªói ng∆∞·ªùi m·ªôt v·∫ª, m∆∞·ªùi ph√¢n v·∫πn m∆∞·ªùi‚Äù ‚Äì t·∫£ ch·ªã em Ki·ªÅu n·ªïi
        ti·∫øng.<br />
        T·∫£ t√¢m l√Ω: th·ªÉ hi·ªán n·ªôi t√¢m nh√¢n v·∫≠t s√¢u s·∫Øc, nh·∫•t l√† n·ªói ƒëau c·ªßa
        Ki·ªÅu.
      </p>

      <p>
        üß† <strong>X√¢y d·ª±ng nh√¢n v·∫≠t:</strong><br />
        T√¢m l√Ω nh√¢n v·∫≠t r√µ n√©t qua l·ªùi n√≥i ‚Äì h√†nh ƒë·ªông ‚Äì suy nghƒ©, ti√™u bi·ªÉu
        nh∆∞:<br />
        <strong>Ki·ªÅu</strong>: t∆∞·ª£ng tr∆∞ng cho ng∆∞·ªùi ph·ª• n·ªØ t√†i s·∫Øc nh∆∞ng b·∫•t
        h·∫°nh.<br />
        <strong>Kim Tr·ªçng</strong>: th·ªßy chung, nho nh√£.<br />
        <strong>T·ª´ H·∫£i</strong>: anh h√πng, quy·∫øt ƒëo√°n.<br />
        <strong>T√∫ B√†, M√£ Gi√°m Sinh, H·ªì T√¥n Hi·∫øn</strong>: ph·∫£n di·ªán ƒëi·ªÉn
        h√¨nh.
      </p>

      <p>üìö <strong>5. Gi√° tr·ªã n·ªôi dung</strong></p>

      <p>
        üíî <strong>Ph·∫£n √°nh x√£ h·ªôi phong ki·∫øn b·∫•t c√¥ng:</strong><br />
        Con ng∆∞·ªùi b·ªã v√πi d·∫≠p b·ªüi ch·∫ø ƒë·ªô phong ki·∫øn, b·ªüi ti·ªÅn b·∫°c, danh
        v·ªçng.<br />
        Ph·ª• n·ªØ l√† n·∫°n nh√¢n n·∫∑ng n·ªÅ nh·∫•t.
      </p>

      <p>
        ‚ù§Ô∏è <strong>ƒê·ªÅ cao t√¨nh c·∫£m con ng∆∞·ªùi:</strong><br />
        T√¨nh y√™u chung th·ªßy gi·ªØa Ki·ªÅu ‚Äì Kim Tr·ªçng.<br />
        Ch·ªØ hi·∫øu v·ªõi cha m·∫π.<br />
        T√¨nh nghƒ©a v·ªõi T·ª´ H·∫£i v√† Th√∫y V√¢n.
      </p>

      <p>
        üßò‚Äç‚ôÇÔ∏è <strong>T∆∞ t∆∞·ªüng nh√¢n ƒë·∫°o s√¢u s·∫Øc:</strong><br />
        Nguy·ªÖn Du kh√≥c cho con ng∆∞·ªùi: ‚ÄúCh·ªØ t√†i li·ªÅn v·ªõi ch·ªØ tai m·ªôt v·∫ßn‚Äù<br />
        Th·∫•u hi·ªÉu n·ªói ƒëau th√¢n ph·∫≠n, c·∫£m th√¥ng v√† x√≥t xa cho s·ªë ki·∫øp con
        ng∆∞·ªùi.
      </p>

      <p>üåç <strong>6. ·∫¢nh h∆∞·ªüng c·ªßa Truy·ªán Ki·ªÅu</strong></p>

      <p>
        üáªüá≥ <strong>Trong vƒÉn h√≥a Vi·ªát:</strong><br />
        ƒê∆∞·ª£c xem nh∆∞ ‚Äúqu·ªëc h·ªìn, qu·ªëc t√∫y‚Äù.<br />
        Truy·ªán Ki·ªÅu ƒëi v√†o ƒë·ªùi s·ªëng: l·∫©y Ki·ªÅu, b√≥i Ki·ªÅu, di·ªÖn Ki·ªÅu, ng√¢m
        Ki·ªÅu.<br />
        ƒê∆∞·ª£c gi·∫£ng d·∫°y trong gi√°o d·ª•c, tr·ªü th√†nh ni·ªÅm t·ª± h√†o d√¢n t·ªôc.
      </p>

      <p>
        üåè <strong>Tr√™n th·∫ø gi·ªõi:</strong><br />
        ƒê∆∞·ª£c d·ªãch ra h∆°n 30 th·ª© ti·∫øng.<br />
        Nguy·ªÖn Du ƒë∆∞·ª£c UNESCO c√¥ng nh·∫≠n l√† Danh nh√¢n vƒÉn h√≥a th·∫ø gi·ªõi (1965).
      </p>
      <div class="btn-download">
        <a href="TRUY·ªÜN KI·ªÄU.docx" download>
          <button class="download-tp">T·∫£i xu·ªëng n·ªôi dung Truy·ªán Ki·ªÅu</button>
        </a>
      </div>

      <!-- Character Section -->
      <div class="character-section">
        <h3 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
          üë• Nh√¢n v·∫≠t ch√≠nh trong Truy·ªán Ki·ªÅu
        </h3>
        <div class="character-grid">
          <div class="character-card" onclick="showCharacterInfo('kieu')">
            <div class="character-avatar">üë∏</div>
            <div class="character-name">Th√∫y Ki·ªÅu</div>
            <div class="character-description">
              Nh√¢n v·∫≠t ch√≠nh, t√†i s·∫Øc v·∫πn to√†n nh∆∞ng s·ªë ph·∫≠n b·∫•t h·∫°nh
            </div>
          </div>
          <div class="character-card" onclick="showCharacterInfo('kim')">
            <div class="character-avatar">ü§µ</div>
            <div class="character-name">Kim Tr·ªçng</div>
            <div class="character-description">
              Ng∆∞·ªùi t√¨nh c·ªßa Ki·ªÅu, chung th·ªßy v√† nho nh√£
            </div>
          </div>
          <div class="character-card" onclick="showCharacterInfo('tuhai')">
            <div class="character-avatar">‚öîÔ∏è</div>
            <div class="character-name">T·ª´ H·∫£i</div>
            <div class="character-description">
              Anh h√πng h√†o hi·ªáp, y√™u th∆∞∆°ng v√† b·∫£o v·ªá Ki·ªÅu
            </div>
          </div>
          <div class="character-card" onclick="showCharacterInfo('tuba')">
            <div class="character-avatar">üëπ</div>
            <div class="character-name">T√∫ B√†</div>
            <div class="character-description">
              K·∫ª x·∫•u xa, l·ª´a d·ªëi v√† ƒë·∫©y Ki·ªÅu v√†o c·∫£nh kh·ªï
            </div>
          </div>
        </div>
      </div>

      <!-- Quiz Section -->
      <div class="quiz-section"
        style="background: rgba(255, 255, 255, 0.9); border-radius: 20px; padding: 30px; margin: 40px 0;">
        <h3 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
          üß† Ki·ªÉm tra ki·∫øn th·ª©c v·ªÅ Truy·ªán Ki·ªÅu
        </h3>
        <div id="quizContainer">
          <div class="quiz-question" id="currentQuestion">
            <h4 id="questionText">ƒêang t·∫£i c√¢u h·ªèi...</h4>
            <div class="quiz-options" id="quizOptions">
              <!-- Options will be loaded here -->
            </div>
          </div>
          <div class="quiz-controls">
            <button class="quiz-btn" onclick="startQuiz()">B·∫Øt ƒë·∫ßu Quiz</button>
            <button class="quiz-btn" onclick="nextQuestion()" id="nextBtn" style="display: none;">C√¢u ti·∫øp theo</button>
            <div class="quiz-score" id="quizScore">ƒêi·ªÉm: 0/0</div>
          </div>
        </div>
      </div>

      <!-- Interactive Timeline -->
      <div class="timeline-section"
        style="background: rgba(255, 255, 255, 0.9); border-radius: 20px; padding: 30px; margin: 40px 0;">
        <h3 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
          üìÖ H√†nh tr√¨nh c·ªßa Ki·ªÅu
        </h3>
        <div class="timeline-interactive">
          <div class="timeline-point active" data-phase="1" onclick="showTimelinePhase(1)">
            <div class="timeline-marker">1</div>
            <div class="timeline-label">G·∫∑p g·ª° Kim Tr·ªçng</div>
          </div>
          <div class="timeline-point" data-phase="2" onclick="showTimelinePhase(2)">
            <div class="timeline-marker">2</div>
            <div class="timeline-label">Gia bi·∫øn - B√°n m√¨nh</div>
          </div>
          <div class="timeline-point" data-phase="3" onclick="showTimelinePhase(3)">
            <div class="timeline-marker">3</div>
            <div class="timeline-label">G·∫∑p T·ª´ H·∫£i</div>
          </div>
          <div class="timeline-point" data-phase="4" onclick="showTimelinePhase(4)">
            <div class="timeline-marker">4</div>
            <div class="timeline-label">ƒêo√†n t·ª•</div>
          </div>
        </div>
        <div class="timeline-content" id="timelineContent">
          <h4>Giai ƒëo·∫°n 1: G·∫∑p g·ª° v√† ƒë√≠nh ∆∞·ªõc</h4>
          <p>Th√∫y Ki·ªÅu g·∫∑p Kim Tr·ªçng trong m·ªôt chuy·∫øn ƒëi ch∆°i xu√¢n. Hai ng∆∞·ªùi ph·∫£i l√≤ng nhau v√† th·ªÅ g·∫Øn b√≥ su·ªët ƒë·ªùi...
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Character Modal -->
  <div class="character-modal" id="characterModal">
    <div class="character-modal-content">
      <button class="close-btn" onclick="closeCharacterModal()">&times;</button>
      <div id="characterModalContent">
        <!-- Character info will be loaded here -->
      </div>
    </div>
  </div>

  <script type="module" src="all.js"></script>
  <script>
    // Global variables
    let currentFontSize = 100;
    let isDarkMode = false;
    let isPlaying = false;
    let currentSpeed = 1;
    let currentQuestionIndex = 0;
    let quizScore = 0;
    let totalQuestions = 0;

    // Quiz data
    const quizQuestions = [
      {
        question: "T√°c gi·∫£ c·ªßa Truy·ªán Ki·ªÅu l√† ai?",
        options: ["Nguy·ªÖn Du", "H·ªì Xu√¢n H∆∞∆°ng", "Nguy·ªÖn Khuy·∫øn", "T√∫ X∆∞∆°ng"],
        correct: 0
      },
      {
        question: "Truy·ªán Ki·ªÅu c√≥ bao nhi√™u c√¢u th∆°?",
        options: ["3.000 c√¢u", "3.254 c√¢u", "3.500 c√¢u", "3.124 c√¢u"],
        correct: 1
      },
      {
        question: "Th·ªÉ th∆° ch√≠nh c·ªßa Truy·ªán Ki·ªÅu l√† g√¨?",
        options: ["Th·∫•t ng√¥n", "L·ª•c b√°t", "Song th·∫•t l·ª•c b√°t", "T·ª± do"],
        correct: 1
      },
      {
        question: "T√™n ƒë·∫ßy ƒë·ªß c·ªßa Truy·ªán Ki·ªÅu l√† g√¨?",
        options: ["ƒêo·∫°n tr∆∞·ªùng t√¢n thanh", "Ki·ªÅu truy·ªán", "Th√∫y Ki·ªÅu truy·ªán", "Kim V√¢n Ki·ªÅu truy·ªán"],
        correct: 0
      },
      {
        question: "Ki·ªÅu ƒë√£ tr·∫£i qua bao nhi√™u nƒÉm l∆∞u l·∫°c?",
        options: ["10 nƒÉm", "15 nƒÉm", "20 nƒÉm", "12 nƒÉm"],
        correct: 1
      }
    ];

    // Timeline data
    const timelineData = {
      1: {
        title: "Giai ƒëo·∫°n 1: G·∫∑p g·ª° v√† ƒë√≠nh ∆∞·ªõc",
        content: "Th√∫y Ki·ªÅu g·∫∑p Kim Tr·ªçng trong m·ªôt chuy·∫øn ƒëi ch∆°i xu√¢n. Hai ng∆∞·ªùi ph·∫£i l√≤ng nhau v√† th·ªÅ g·∫Øn b√≥ su·ªët ƒë·ªùi. Tuy nhi√™n, tai h·ªça ·∫≠p ƒë·∫øn khi cha v√† em trai Ki·ªÅu b·ªã vu oan."
      },
      2: {
        title: "Giai ƒëo·∫°n 2: Gia bi·∫øn - B√°n m√¨nh chu·ªôc cha",
        content: "ƒê·ªÉ c·ª©u cha kh·ªèi t√π t·ªôi, Ki·ªÅu ƒë√†nh ph·∫£i b√°n m√¨nh cho M√£ Gi√°m Sinh. T·ª´ ƒë√¢y b·∫Øt ƒë·∫ßu cu·ªôc ƒë·ªùi l∆∞u l·∫°c ƒë·∫ßy kh·ªï ƒëau c·ªßa n√†ng."
      },
      3: {
        title: "Giai ƒëo·∫°n 3: G·∫∑p T·ª´ H·∫£i - T√¨nh y√™u anh h√πng",
        content: "Trong l√∫c kh·ªën kh√≥, Ki·ªÅu g·∫∑p ƒë∆∞·ª£c T·ª´ H·∫£i - m·ªôt anh h√πng h√†o hi·ªáp. T·ª´ H·∫£i y√™u th∆∞∆°ng v√† b·∫£o v·ªá Ki·ªÅu, mang ƒë·∫øn cho n√†ng nh·ªØng ng√†y th√°ng h·∫°nh ph√∫c hi·∫øm hoi."
      },
      4: {
        title: "Giai ƒëo·∫°n 4: ƒêo√†n t·ª• - V·ªÅ v·ªõi gia ƒë√¨nh",
        content: "Sau 15 nƒÉm l∆∞u l·∫°c, Ki·ªÅu cu·ªëi c√πng ƒë∆∞·ª£c ƒëo√†n t·ª• v·ªõi gia ƒë√¨nh v√† Kim Tr·ªçng. D√π kh√¥ng th·ªÉ tr·ªü l·∫°i nh∆∞ x∆∞a, t√¨nh nghƒ©a v·∫´n c√≤n m√£i."
      }
    };

    // Character data
    const characterData = {
      kieu: {
        name: "Th√∫y Ki·ªÅu",
        avatar: "üë∏",
        description: "Nh√¢n v·∫≠t ch√≠nh c·ªßa t√°c ph·∫©m, bi·ªÉu t∆∞·ª£ng c·ªßa ng∆∞·ªùi ph·ª• n·ªØ Vi·ªát Nam t√†i s·∫Øc v·∫πn to√†n nh∆∞ng s·ªë ph·∫≠n b·∫•t h·∫°nh.",
        details: "Ki·ªÅu l√† con g√°i l·ªõn trong gia ƒë√¨nh, c√≥ t√†i s·∫Øc song to√†n. N√†ng bi·∫øt ch∆°i ƒë√†n, h√°t, l√†m th∆° v√† c√≥ v·∫ª ƒë·∫πp tuy·ªát tr·∫ßn. Tuy nhi√™n, v√¨ ch·ªØ hi·∫øu v·ªõi cha m·∫π, n√†ng ƒë√£ ph·∫£i b√°n m√¨nh v√† tr·∫£i qua 15 nƒÉm l∆∞u l·∫°c ƒë·∫ßy kh·ªï ƒëau."
      },
      kim: {
        name: "Kim Tr·ªçng",
        avatar: "ü§µ",
        description: "Ng∆∞·ªùi t√¨nh c·ªßa Ki·ªÅu, ƒë·∫°i di·ªán cho l√Ω t∆∞·ªüng ng∆∞·ªùi con trai nho nh√£, chung th·ªßy.",
        details: "Kim Tr·ªçng l√† ch√†ng trai t√†i gi·ªèi, nho nh√£, ph·∫£i l√≤ng Ki·ªÅu t·ª´ l·∫ßn ƒë·∫ßu g·∫∑p g·ª°. D√π Ki·ªÅu ph·∫£i xa c√°ch 15 nƒÉm, anh v·∫´n chung th·ªßy ch·ªù ƒë·ª£i v√† cu·ªëi c√πng ƒëo√†n t·ª• v·ªõi n√†ng."
      },
      tuhai: {
        name: "T·ª´ H·∫£i",
        avatar: "‚öîÔ∏è",
        description: "Anh h√πng h√†o hi·ªáp, ng∆∞·ªùi ƒë√£ mang ƒë·∫øn cho Ki·ªÅu nh·ªØng ng√†y th√°ng h·∫°nh ph√∫c nh·∫•t.",
        details: "T·ª´ H·∫£i l√† m·ªôt anh h√πng th·ªßy t·∫∑c, c√≥ l√≤ng h√†o hi·ªáp v√† y√™u th∆∞∆°ng Ki·ªÅu ch√¢n th√†nh. √îng ƒë√£ b·∫£o v·ªá Ki·ªÅu kh·ªèi nh·ªØng k·∫ª x·∫•u v√† mang ƒë·∫øn cho n√†ng t√¨nh y√™u ƒë√≠ch th·ª±c."
      },
      tuba: {
        name: "T√∫ B√†",
        avatar: "üëπ",
        description: "K·∫ª ph·∫£n di·ªán ch√≠nh, bi·ªÉu t∆∞·ª£ng c·ªßa s·ª± x·∫•u xa v√† l·ª´a d·ªëi.",
        details: "T√∫ B√† l√† ng∆∞·ªùi ƒë√£ l·ª´a d·ªëi Ki·ªÅu, ƒë·∫©y n√†ng v√†o c·∫£nh kh·ªï ƒëau trong l·∫ßu xanh. B√† ta ƒë·∫°i di·ªán cho nh·ªØng th·∫ø l·ª±c x·∫•u xa trong x√£ h·ªôi phong ki·∫øn."
      }
    };

    // Reading progress
    window.addEventListener('scroll', updateReadingProgress);

    function updateReadingProgress() {
      const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      document.getElementById('progressBar').style.width = scrolled + '%';
    }

    // Audio controls
    function toggleAudio() {
      const playBtn = document.getElementById('playBtn');
      if (isPlaying) {
        playBtn.textContent = 'üéµ';
        isPlaying = false;
        // Pause audio (you can add actual audio implementation here)
      } else {
        playBtn.textContent = '‚è∏Ô∏è';
        isPlaying = true;
        // Play audio (you can add actual audio implementation here)
      }
    }

    function changeSpeed() {
      const speedBtn = document.getElementById('speedBtn');
      const speeds = [1, 1.25, 1.5, 2];
      const currentIndex = speeds.indexOf(currentSpeed);
      const nextIndex = (currentIndex + 1) % speeds.length;
      currentSpeed = speeds[nextIndex];
      speedBtn.textContent = currentSpeed + 'x';
    }

    function toggleMute() {
      const volumeSlider = document.getElementById('volumeSlider');
      if (volumeSlider.value > 0) {
        volumeSlider.value = 0;
      } else {
        volumeSlider.value = 50;
      }
    }

    // Settings
    function toggleSettings() {
      const menu = document.getElementById('settingsMenu');
      menu.classList.toggle('show');
    }

    function changeFontSize(delta) {
      currentFontSize += delta * 10;
      currentFontSize = Math.max(80, Math.min(150, currentFontSize));
      document.getElementById('fontSizeDisplay').textContent = currentFontSize + '%';
      document.querySelector('.text-container').style.fontSize = (currentFontSize / 100) + 'em';
    }

    function toggleDarkMode() {
      isDarkMode = !isDarkMode;
      document.body.classList.toggle('dark-mode');
      document.getElementById('darkModeBtn').textContent = isDarkMode ? '‚òÄÔ∏è' : 'üåô';
    }

    // Quiz functions
    function startQuiz() {
      currentQuestionIndex = 0;
      quizScore = 0;
      totalQuestions = quizQuestions.length;
      showQuestion();
      document.querySelector('.quiz-btn').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'inline-block';
    }

    function showQuestion() {
      if (currentQuestionIndex >= quizQuestions.length) {
        showQuizResults();
        return;
      }

      const question = quizQuestions[currentQuestionIndex];
      document.getElementById('questionText').textContent = `C√¢u ${currentQuestionIndex + 1}: ${question.question}`;

      const optionsContainer = document.getElementById('quizOptions');
      optionsContainer.innerHTML = '';

      question.options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'quiz-option';
        optionDiv.textContent = option;
        optionDiv.onclick = () => selectOption(index);
        optionsContainer.appendChild(optionDiv);
      });

      updateQuizScore();
    }

    function selectOption(selectedIndex) {
      const options = document.querySelectorAll('.quiz-option');
      options.forEach(option => option.classList.remove('selected'));
      options[selectedIndex].classList.add('selected');

      // Store selected answer
      quizQuestions[currentQuestionIndex].selected = selectedIndex;
    }

    function nextQuestion() {
      const question = quizQuestions[currentQuestionIndex];
      if (question.selected !== undefined) {
        // Show correct answer
        const options = document.querySelectorAll('.quiz-option');
        options[question.correct].classList.add('correct');
        if (question.selected !== question.correct) {
          options[question.selected].classList.add('incorrect');
        } else {
          quizScore++;
        }

        setTimeout(() => {
          currentQuestionIndex++;
          showQuestion();
        }, 2000);
      } else {
        alert('Vui l√≤ng ch·ªçn m·ªôt ƒë√°p √°n!');
      }
    }

    function showQuizResults() {
      document.getElementById('questionText').textContent = 'K·∫øt qu·∫£ Quiz';
      document.getElementById('quizOptions').innerHTML = `
          <div style="text-align: center; padding: 20px;">
            <h3>B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng ${quizScore}/${totalQuestions} c√¢u!</h3>
            <p>${getScoreMessage()}</p>
            <button class="quiz-btn" onclick="resetQuiz()">L√†m l·∫°i</button>
          </div>
        `;
      document.getElementById('nextBtn').style.display = 'none';
      updateQuizScore();
    }

    function getScoreMessage() {
      const percentage = (quizScore / totalQuestions) * 100;
      if (percentage >= 80) return 'Xu·∫•t s·∫Øc! B·∫°n hi·ªÉu r·∫•t r√µ v·ªÅ Truy·ªán Ki·ªÅu! üéâ';
      if (percentage >= 60) return 'T·ªët! B·∫°n c√≥ ki·∫øn th·ª©c kh√° t·ªët v·ªÅ Truy·ªán Ki·ªÅu! üëè';
      if (percentage >= 40) return 'Kh√°! B·∫°n n√™n ƒë·ªçc th√™m v·ªÅ Truy·ªán Ki·ªÅu! üìö';
      return 'B·∫°n c·∫ßn t√¨m hi·ªÉu th√™m v·ªÅ Truy·ªán Ki·ªÅu nh√©! üí™';
    }

    function resetQuiz() {
      document.querySelector('.quiz-btn').style.display = 'inline-block';
      document.getElementById('nextBtn').style.display = 'none';
      document.getElementById('questionText').textContent = 'ƒêang t·∫£i c√¢u h·ªèi...';
      document.getElementById('quizOptions').innerHTML = '';
      // Reset selected answers
      quizQuestions.forEach(q => delete q.selected);
      updateQuizScore();
    }

    function updateQuizScore() {
      document.getElementById('quizScore').textContent = `ƒêi·ªÉm: ${quizScore}/${totalQuestions}`;
    }

    // Timeline functions
    function showTimelinePhase(phase) {
      // Remove active class from all points
      document.querySelectorAll('.timeline-point').forEach(point => {
        point.classList.remove('active');
      });

      // Add active class to selected point
      document.querySelector(`[data-phase="${phase}"]`).classList.add('active');

      // Update content
      const data = timelineData[phase];
      document.getElementById('timelineContent').innerHTML = `
          <h4>${data.title}</h4>
          <p>${data.content}</p>
        `;
    }

    // Character functions
    function showCharacterInfo(characterId) {
      const character = characterData[characterId];
      document.getElementById('characterModalContent').innerHTML = `
          <div style="text-align: center;">
            <div style="font-size: 4rem; margin-bottom: 20px;">${character.avatar}</div>
            <h2 style="color: #2c3e50; margin-bottom: 20px;">${character.name}</h2>
            <p style="font-size: 1.1rem; color: #555; margin-bottom: 20px;">${character.description}</p>
            <div style="text-align: left; background: rgba(255, 159, 0, 0.1); padding: 20px; border-radius: 10px;">
              <h4 style="color: #ff9f00; margin-bottom: 15px;">Chi ti·∫øt:</h4>
              <p style="line-height: 1.6;">${character.details}</p>
            </div>
          </div>
        `;
      document.getElementById('characterModal').classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    function closeCharacterModal() {
      document.getElementById('characterModal').classList.remove('show');
      document.body.style.overflow = 'auto';
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function () {
      updateQuizScore();

      // Close modal when clicking outside
      document.getElementById('characterModal').addEventListener('click', function (e) {
        if (e.target === this) {
          closeCharacterModal();
        }
      });

      // Close settings menu when clicking outside
      document.addEventListener('click', function (e) {
        if (!e.target.closest('.settings-panel')) {
          document.getElementById('settingsMenu').classList.remove('show');
        }
      });
    });
  </script>
  <script type="module" src="all.js"></script>
</body>

</html>