<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nguyễn Du</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    .drum-container {
      border: none !important;
      height: 572px;
    }

    .nguyendu {
      display: flex;
      position: absolute !important;
      width: auto !important;
      height: 70% !important;
      bottom: -2px;
      left: -56px;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .forum-button {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 60px;
      height: 60px;
      background-color: #ff9f00;
      color: white;
      border-radius: 50%;
      font-size: 24px;
      display: flex;
      justify-content: center;
      align-items: center;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      transition: transform 0.2s ease;
    }

    .forum-button:hover {
      transform: scale(1.1);
    }

    .download-tp {
      background-color: #fffe00;
      color: black;
      outline: none;
      border: none;
      width: 100%;
      height: 45px;
      font-size: 20px;
      border-radius: 10px;
      margin: 30px 0px 70px 0px;
    }

    .download-tp:hover {
      background: #ff7830;
    }

    /* Reading Progress Bar */
    .reading-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      z-index: 9999;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #ff9f00, #ff6b35);
      width: 0%;
      transition: width 0.3s ease;
    }

    /* Audio Controls */
    .audio-controls {
      position: fixed;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 10px;
      background: rgba(255, 255, 255, 0.95);
      padding: 15px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .audio-btn {
      width: 50px;
      height: 50px;
      border: none;
      border-radius: 50%;
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .audio-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(255, 159, 0, 0.4);
    }

    .volume-control {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .volume-slider {
      writing-mode: bt-lr;
      /* IE */
      -webkit-appearance: slider-vertical;
      /* WebKit */
      appearance: slider-vertical;
      /* Standard */
      width: 10px;
      height: 80px;
      background: linear-gradient(to top, #ff9f00, #ff6b35);
      outline: none;
    }

    /* Settings Panel */
    .settings-panel {
      position: fixed;
      bottom: 100px;
      right: 20px;
      z-index: 1000;
    }

    .settings-btn {
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 50%;
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .settings-btn:hover {
      transform: scale(1.1);
    }

    .settings-menu {
      position: absolute;
      bottom: 70px;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(10px);
      display: none;
      min-width: 200px;
    }

    .settings-menu.show {
      display: block;
      animation: fadeInUp 0.3s ease;
    }

    .setting-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 10px 0;
      padding: 10px;
      background: rgba(255, 159, 0, 0.1);
      border-radius: 10px;
    }

    .setting-item label {
      font-weight: bold;
      color: #2c3e50;
    }

    .setting-item button {
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      margin: 0 2px;
      transition: all 0.3s ease;
    }

    .setting-item button:hover {
      transform: scale(1.05);
    }

    /* Dark Mode */
    body.dark-mode {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: #ecf0f1;
    }

    body.dark-mode .text-container {
      background: rgba(44, 62, 80, 0.95);
      color: #ecf0f1;
    }

    body.dark-mode .navbar {
      background: linear-gradient(135deg, #34495e, #2c3e50) !important;
    }

    /* Highlight Text Feature */
    .highlight {
      background: linear-gradient(120deg, rgba(255, 159, 0, 0.3) 0%, rgba(255, 159, 0, 0.3) 100%);
      padding: 2px 4px;
      border-radius: 3px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .highlight:hover {
      background: linear-gradient(120deg, rgba(255, 159, 0, 0.5) 0%, rgba(255, 159, 0, 0.5) 100%);
    }

    /* Bookmark Feature */
    .bookmark-btn {
      position: absolute;
      right: 10px;
      top: 10px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .bookmark-btn:hover {
      transform: scale(1.2);
    }

    .bookmark-btn.bookmarked {
      color: #ff9f00;
    }

    /* Character Cards */
    .character-section {
      margin: 40px 0;
    }

    .character-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .character-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .character-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 159, 0, 0.2), transparent);
      transition: left 0.5s;
    }

    .character-card:hover::before {
      left: 100%;
    }

    .character-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 35px rgba(255, 159, 0, 0.3);
    }

    .character-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      margin: 0 auto 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
    }

    .character-name {
      font-size: 1.3rem;
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .character-description {
      font-size: 0.9rem;
      color: #555;
      line-height: 1.4;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .audio-controls {
        right: 10px;
        padding: 10px;
      }

      .audio-btn {
        width: 40px;
        height: 40px;
        font-size: 1rem;
      }

      .volume-slider {
        height: 60px;
      }

      .settings-panel {
        bottom: 80px;
        right: 10px;
      }

      .settings-btn {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }
    }

    /* Quiz Styles */
    .quiz-section {
      position: relative;
    }

    .quiz-question {
      margin-bottom: 30px;
    }

    .quiz-question h4 {
      color: #2c3e50;
      margin-bottom: 20px;
    }

    .quiz-options {
      display: grid;
      gap: 15px;
    }

    .quiz-option {
      background: rgba(255, 159, 0, 0.1);
      border: 2px solid transparent;
      padding: 15px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .quiz-option:hover {
      background: rgba(255, 159, 0, 0.2);
      border-color: #ff9f00;
    }

    .quiz-option.selected {
      background: rgba(255, 159, 0, 0.3);
      border-color: #ff9f00;
    }

    .quiz-option.correct {
      background: rgba(46, 204, 113, 0.2);
      border-color: #2ecc71;
    }

    .quiz-option.incorrect {
      background: rgba(231, 76, 60, 0.2);
      border-color: #e74c3c;
    }

    .quiz-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 30px;
    }

    .quiz-btn {
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .quiz-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 159, 0, 0.4);
    }

    .quiz-score {
      font-weight: bold;
      color: #2c3e50;
      font-size: 1.2rem;
    }

    /* Timeline Interactive Styles */
    .timeline-interactive {
      display: flex;
      justify-content: space-between;
      margin: 30px 0;
      position: relative;
    }

    .timeline-interactive::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #ff9f00, #ff6b35);
      z-index: 1;
    }

    .timeline-point {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 2;
    }

    .timeline-marker {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #666;
      transition: all 0.3s ease;
    }

    .timeline-point.active .timeline-marker {
      background: linear-gradient(135deg, #ff9f00, #ff6b35);
      color: white;
      transform: scale(1.2);
      box-shadow: 0 5px 15px rgba(255, 159, 0, 0.4);
    }

    .timeline-label {
      margin-top: 10px;
      text-align: center;
      font-size: 0.9rem;
      color: #555;
      max-width: 100px;
    }

    .timeline-point.active .timeline-label {
      color: #ff9f00;
      font-weight: bold;
    }

    .timeline-content {
      background: rgba(255, 159, 0, 0.1);
      padding: 25px;
      border-radius: 15px;
      margin-top: 30px;
      border-left: 4px solid #ff9f00;
    }

    .timeline-content h4 {
      color: #2c3e50;
      margin-bottom: 15px;
    }

    .timeline-content p {
      color: #555;
      line-height: 1.6;
    }

    /* Character Modal */
    .character-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .character-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .character-modal-content {
      background: white;
      padding: 40px;
      border-radius: 20px;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }

    .character-modal .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      background: none;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      color: #999;
    }

    .character-modal .close-btn:hover {
      color: #ff9f00;
    }

    /* Responsive Timeline */
    @media (max-width: 768px) {
      .timeline-interactive {
        flex-direction: column;
        gap: 20px;
      }

      .timeline-interactive::before {
        display: none;
      }

      .timeline-point {
        flex-direction: row;
        justify-content: flex-start;
        gap: 15px;
      }

      .timeline-marker {
        width: 40px;
        height: 40px;
      }

      .timeline-label {
        margin-top: 0;
        max-width: none;
        text-align: left;
      }
    }
  </style>
</head>

<body>
  <!-- Progress Bar -->
  <div class="reading-progress">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- Audio Controls -->
  <!-- <div class="audio-controls" id="audioControls">
    <button class="audio-btn" id="playBtn" onclick="toggleAudio()">🎵</button>
    <button class="audio-btn" id="speedBtn" onclick="changeSpeed()">1x</button>
    <div class="volume-control">
      <button class="audio-btn" onclick="toggleMute()">🔊</button>
      <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="50">
    </div>
  </div> -->

  <!-- Settings Panel -->
  <!-- <div class="settings-panel" id="settingsPanel">
    <button class="settings-btn" onclick="toggleSettings()">⚙️</button>
    <div class="settings-menu" id="settingsMenu">
      <div class="setting-item">
        <label>Cỡ chữ:</label>
        <button onclick="changeFontSize(-1)">A-</button>
        <span id="fontSizeDisplay">100%</span>
        <button onclick="changeFontSize(1)">A+</button>
      </div>
      <div class="setting-item">
        <label>Chế độ:</label>
        <button onclick="toggleDarkMode()" id="darkModeBtn">🌙</button>
      </div>
    </div>
  </div> -->

  <a href="forum.html" class="forum-button"> 💬 </a>

  <nav class="navbar navbar-expand-lg bg-body-tertiary" class="navbar" style="background-color: #ff9f00">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html"><img src="img/snapedit_1745406959124.jpeg" class="avt" alt="" /></a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active underline-animate" aria-current="page" href="Tieusu.html">🕑Tiểu sử</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="vinhdanhvacongnhan.html">🏛️ Vinh danh và công nhận</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="giatridisanvavanhoa.html">🏺 Giá trị di sản và văn hóa</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="congtacbaotonvaphathuy.html">🎬 Công tác bảo tồn và phát huy</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="TruyenKieu.html">💭Truyện Kiều</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="trichdannoidai.html">📜Trích dẫn nổi tiếng</a>
          </li>
          <li class="nav-item">
            <a class="nav-link underline-animate" href="boicanhlichsu.html">🏛️Bối cảnh lịch sử</a>
          </li>
          <li class="nav-item">
            <a href="2005VDLA038 .pdf" download>
              <button class="logout-btn">
                Tải thông tin chi tiết tại đây
              </button>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div style="
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
        ">
      <div style="display: flex; align-items: center">
        <img src="https://i.pravatar.cc/100" class="avt" id="userAvatar" alt="avatar" />

        <h4 id="welcomeText" style="margin: 0"></h4>
        <input type="file" id="avatarInput" accept="image/*" style="display: none" />
      </div>
      <button class="logout-btn" onclick="logout()">Đăng xuất</button>
    </div>
  </nav>
  <div class="content">
    <div class="image-container">
      <div class="drum-container">
        <img class="chin rotate-cw" src="img/Vong 09.svg" alt="Vòng ngoài cùng" />
        <img class="tam rotate-ccw" src="img/Vong 08.svg" alt="Vòng giữa" />
        <img class="bay rotate-cw" src="img/Vong 07.svg" alt="Vòng trong cùng" />
        <img class="sau rotate-ccw" src="img/Vong 06.svg" alt="Vòng trong nhất" />
        <img class="nam rotate-cw" src="img/Vong 05.svg" alt="Vòng trong nhì" />
        <img class="tu rotate-ccw" src="img/Vong 04.svg" alt="Vòng trong tam" />
        <img class="ba rotate-cw" src="img/Vong 03.svg" alt="Vòng trong tứ" />
        <img class="hai rotate-ccw" src="img/Vong 02.svg" alt="Vòng trong ngũ" />
        <img class="mot rotate-cw" src="img/Vong 01.svg" alt="Vòng trong lục" />
        <img class="nguyendu" src="img/anhnguyendu.png" alt="ảnh Nguyễn Du" />
      </div>
      <div class="anhtruyenkieu">
        <img src="img/screenshot_1745478436.png" alt="" style="width: 100%; height: auto" /><br />
        <p style="text-align: center">
          Cuốn truyện Kiều nặng nhất thế giới(75kg) <br />
          [Nguồn: Phạm Thị Vân Nam ]
        </p>
      </div>
    </div>
    <div class="text-container" style="font-family: 'Lora', 'Times New Roman', serif">
      <p>
        🌸 <strong>1. Giới thiệu chung</strong><br />
        Tên đầy đủ: <em>Đoạn Trường Tân Thanh</em> (nghĩa là “Tiếng kêu mới
        trong nỗi đau đứt ruột”)<br />
        Tên thường gọi: <em>Truyện Kiều</em><br />
        Tác giả: <strong>Nguyễn Du</strong> (1765–1820)<br />
        Thể loại: <em>Truyện thơ Nôm</em><br />
        Thể thơ: <em>Lục bát (6–8)</em><br />
        Số câu: <strong>3.254 câu</strong>
      </p>

      <p>
        🧾 <strong>2. Nguồn gốc & cốt truyện</strong><br />
        Nguyễn Du dựa vào tiểu thuyết <em>Thanh Tâm Tài Nhân truyện</em> của
        Trung Quốc, song đã sáng tạo lại hoàn toàn, biến nó thành một tác phẩm
        mang đậm hồn Việt, nhân sinh quan và tâm thức người Việt.
      </p>

      <p>
        🧭 <strong>3. Tóm tắt nội dung Truyện Kiều</strong><br />
        <em>“Trăm năm trong cõi người ta...”</em><br />
        Câu chuyện xoay quanh cuộc đời Thúy Kiều, một cô gái tài sắc vẹn toàn,
        phải trải qua 15 năm lưu lạc vì chữ hiếu, vì số phận nghiệt ngã. Nội
        dung được chia thành 3 phần lớn:
      </p>

      <p>
        ➤ <strong>Phần 1: Gặp gỡ và đính ước (câu 1–588)</strong><br />
        Thúy Kiều gặp Kim Trọng, hai người phải lòng nhau và thề nguyền gắn
        bó.<br />
        Tai họa ập đến: cha và em trai Kiều bị vu oan.
      </p>

      <p>
        ➤ <strong>Phần 2: Gia biến và lưu lạc (câu 589–2.342)</strong><br />
        Kiều bán mình chuộc cha, rơi vào tay Mã Giám Sinh – Tú Bà – rồi bị đẩy
        vào lầu xanh.<br />
        Trải qua nhiều biến cố, bị lừa dối, bị ép làm vợ Hồ Tôn Hiến, rồi trốn
        thoát.<br />
        Kiều được Từ Hải (một người anh hùng) cứu và yêu thương, nhưng Từ Hải
        bị lừa, chết trận. Kiều bị bắt về cung và phải đàn cho Hồ Tôn Hiến
        nghe.
      </p>

      <p>
        ➤ <strong>Phần 3: Đoàn tụ (câu 2.343–3.254)</strong><br />
        Kiều nhảy sông tự tử nhưng được sư Giác Duyên cứu.<br />
        Gặp lại gia đình và Kim Trọng. Họ tái ngộ trong niềm đau và hạnh
        phúc.<br />
        Tuy không trở lại tình yêu lứa đôi, nhưng tình nghĩa vẫn vẹn toàn.
      </p>

      <p>🎨 <strong>4. Giá trị nghệ thuật</strong></p>

      <p>
        ✒️ <strong>Ngôn ngữ điêu luyện:</strong><br />
        Nguyễn Du đã nâng ngôn ngữ dân tộc lên đỉnh cao với thể thơ lục bát
        mềm mại, uyển chuyển, giàu tính biểu cảm.<br />
        Dùng nhiều điển tích, ẩn dụ, hoán dụ, ngôn ngữ bình dân kết hợp bác
        học.
      </p>

      <p>
        🖋️ <strong>Nghệ thuật miêu tả:</strong><br />
        Tả người: “Mỗi người một vẻ, mười phân vẹn mười” – tả chị em Kiều nổi
        tiếng.<br />
        Tả tâm lý: thể hiện nội tâm nhân vật sâu sắc, nhất là nỗi đau của
        Kiều.
      </p>

      <p>
        🧠 <strong>Xây dựng nhân vật:</strong><br />
        Tâm lý nhân vật rõ nét qua lời nói – hành động – suy nghĩ, tiêu biểu
        như:<br />
        <strong>Kiều</strong>: tượng trưng cho người phụ nữ tài sắc nhưng bất
        hạnh.<br />
        <strong>Kim Trọng</strong>: thủy chung, nho nhã.<br />
        <strong>Từ Hải</strong>: anh hùng, quyết đoán.<br />
        <strong>Tú Bà, Mã Giám Sinh, Hồ Tôn Hiến</strong>: phản diện điển
        hình.
      </p>

      <p>📚 <strong>5. Giá trị nội dung</strong></p>

      <p>
        💔 <strong>Phản ánh xã hội phong kiến bất công:</strong><br />
        Con người bị vùi dập bởi chế độ phong kiến, bởi tiền bạc, danh
        vọng.<br />
        Phụ nữ là nạn nhân nặng nề nhất.
      </p>

      <p>
        ❤️ <strong>Đề cao tình cảm con người:</strong><br />
        Tình yêu chung thủy giữa Kiều – Kim Trọng.<br />
        Chữ hiếu với cha mẹ.<br />
        Tình nghĩa với Từ Hải và Thúy Vân.
      </p>

      <p>
        🧘‍♂️ <strong>Tư tưởng nhân đạo sâu sắc:</strong><br />
        Nguyễn Du khóc cho con người: “Chữ tài liền với chữ tai một vần”<br />
        Thấu hiểu nỗi đau thân phận, cảm thông và xót xa cho số kiếp con
        người.
      </p>

      <p>🌍 <strong>6. Ảnh hưởng của Truyện Kiều</strong></p>

      <p>
        🇻🇳 <strong>Trong văn hóa Việt:</strong><br />
        Được xem như “quốc hồn, quốc túy”.<br />
        Truyện Kiều đi vào đời sống: lẩy Kiều, bói Kiều, diễn Kiều, ngâm
        Kiều.<br />
        Được giảng dạy trong giáo dục, trở thành niềm tự hào dân tộc.
      </p>

      <p>
        🌏 <strong>Trên thế giới:</strong><br />
        Được dịch ra hơn 30 thứ tiếng.<br />
        Nguyễn Du được UNESCO công nhận là Danh nhân văn hóa thế giới (1965).
      </p>
      <div class="btn-download">
        <a href="TRUYỆN KIỀU.docx" download>
          <button class="download-tp">Tải xuống nội dung Truyện Kiều</button>
        </a>
      </div>

      <!-- Character Section -->
      <div class="character-section">
        <h3 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
          👥 Nhân vật chính trong Truyện Kiều
        </h3>
        <div class="character-grid">
          <div class="character-card" onclick="showCharacterInfo('kieu')">
            <div class="character-avatar">👸</div>
            <div class="character-name">Thúy Kiều</div>
            <div class="character-description">
              Nhân vật chính, tài sắc vẹn toàn nhưng số phận bất hạnh
            </div>
          </div>
          <div class="character-card" onclick="showCharacterInfo('kim')">
            <div class="character-avatar">🤵</div>
            <div class="character-name">Kim Trọng</div>
            <div class="character-description">
              Người tình của Kiều, chung thủy và nho nhã
            </div>
          </div>
          <div class="character-card" onclick="showCharacterInfo('tuhai')">
            <div class="character-avatar">⚔️</div>
            <div class="character-name">Từ Hải</div>
            <div class="character-description">
              Anh hùng hào hiệp, yêu thương và bảo vệ Kiều
            </div>
          </div>
          <div class="character-card" onclick="showCharacterInfo('tuba')">
            <div class="character-avatar">👹</div>
            <div class="character-name">Tú Bà</div>
            <div class="character-description">
              Kẻ xấu xa, lừa dối và đẩy Kiều vào cảnh khổ
            </div>
          </div>
        </div>
      </div>

      <!-- Quiz Section -->
      <div class="quiz-section"
        style="background: rgba(255, 255, 255, 0.9); border-radius: 20px; padding: 30px; margin: 40px 0;">
        <h3 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
          🧠 Kiểm tra kiến thức về Truyện Kiều
        </h3>
        <div id="quizContainer">
          <div class="quiz-question" id="currentQuestion">
            <h4 id="questionText">Đang tải câu hỏi...</h4>
            <div class="quiz-options" id="quizOptions">
              <!-- Options will be loaded here -->
            </div>
          </div>
          <div class="quiz-controls">
            <button class="quiz-btn" onclick="startQuiz()">Bắt đầu Quiz</button>
            <button class="quiz-btn" onclick="nextQuestion()" id="nextBtn" style="display: none;">Câu tiếp theo</button>
            <div class="quiz-score" id="quizScore">Điểm: 0/0</div>
          </div>
        </div>
      </div>

      <!-- Interactive Timeline -->
      <div class="timeline-section"
        style="background: rgba(255, 255, 255, 0.9); border-radius: 20px; padding: 30px; margin: 40px 0;">
        <h3 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">
          📅 Hành trình của Kiều
        </h3>
        <div class="timeline-interactive">
          <div class="timeline-point active" data-phase="1" onclick="showTimelinePhase(1)">
            <div class="timeline-marker">1</div>
            <div class="timeline-label">Gặp gỡ Kim Trọng</div>
          </div>
          <div class="timeline-point" data-phase="2" onclick="showTimelinePhase(2)">
            <div class="timeline-marker">2</div>
            <div class="timeline-label">Gia biến - Bán mình</div>
          </div>
          <div class="timeline-point" data-phase="3" onclick="showTimelinePhase(3)">
            <div class="timeline-marker">3</div>
            <div class="timeline-label">Gặp Từ Hải</div>
          </div>
          <div class="timeline-point" data-phase="4" onclick="showTimelinePhase(4)">
            <div class="timeline-marker">4</div>
            <div class="timeline-label">Đoàn tụ</div>
          </div>
        </div>
        <div class="timeline-content" id="timelineContent">
          <h4>Giai đoạn 1: Gặp gỡ và đính ước</h4>
          <p>Thúy Kiều gặp Kim Trọng trong một chuyến đi chơi xuân. Hai người phải lòng nhau và thề gắn bó suốt đời...
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Character Modal -->
  <div class="character-modal" id="characterModal">
    <div class="character-modal-content">
      <button class="close-btn" onclick="closeCharacterModal()">&times;</button>
      <div id="characterModalContent">
        <!-- Character info will be loaded here -->
      </div>
    </div>
  </div>

  <script type="module" src="all.js"></script>
  <script>
    // Global variables
    let currentFontSize = 100;
    let isDarkMode = false;
    let isPlaying = false;
    let currentSpeed = 1;
    let currentQuestionIndex = 0;
    let quizScore = 0;
    let totalQuestions = 0;

    // Quiz data
    const quizQuestions = [
      {
        question: "Tác giả của Truyện Kiều là ai?",
        options: ["Nguyễn Du", "Hồ Xuân Hương", "Nguyễn Khuyến", "Tú Xương"],
        correct: 0
      },
      {
        question: "Truyện Kiều có bao nhiêu câu thơ?",
        options: ["3.000 câu", "3.254 câu", "3.500 câu", "3.124 câu"],
        correct: 1
      },
      {
        question: "Thể thơ chính của Truyện Kiều là gì?",
        options: ["Thất ngôn", "Lục bát", "Song thất lục bát", "Tự do"],
        correct: 1
      },
      {
        question: "Tên đầy đủ của Truyện Kiều là gì?",
        options: ["Đoạn trường tân thanh", "Kiều truyện", "Thúy Kiều truyện", "Kim Vân Kiều truyện"],
        correct: 0
      },
      {
        question: "Kiều đã trải qua bao nhiêu năm lưu lạc?",
        options: ["10 năm", "15 năm", "20 năm", "12 năm"],
        correct: 1
      }
    ];

    // Timeline data
    const timelineData = {
      1: {
        title: "Giai đoạn 1: Gặp gỡ và đính ước",
        content: "Thúy Kiều gặp Kim Trọng trong một chuyến đi chơi xuân. Hai người phải lòng nhau và thề gắn bó suốt đời. Tuy nhiên, tai họa ập đến khi cha và em trai Kiều bị vu oan."
      },
      2: {
        title: "Giai đoạn 2: Gia biến - Bán mình chuộc cha",
        content: "Để cứu cha khỏi tù tội, Kiều đành phải bán mình cho Mã Giám Sinh. Từ đây bắt đầu cuộc đời lưu lạc đầy khổ đau của nàng."
      },
      3: {
        title: "Giai đoạn 3: Gặp Từ Hải - Tình yêu anh hùng",
        content: "Trong lúc khốn khó, Kiều gặp được Từ Hải - một anh hùng hào hiệp. Từ Hải yêu thương và bảo vệ Kiều, mang đến cho nàng những ngày tháng hạnh phúc hiếm hoi."
      },
      4: {
        title: "Giai đoạn 4: Đoàn tụ - Về với gia đình",
        content: "Sau 15 năm lưu lạc, Kiều cuối cùng được đoàn tụ với gia đình và Kim Trọng. Dù không thể trở lại như xưa, tình nghĩa vẫn còn mãi."
      }
    };

    // Character data
    const characterData = {
      kieu: {
        name: "Thúy Kiều",
        avatar: "👸",
        description: "Nhân vật chính của tác phẩm, biểu tượng của người phụ nữ Việt Nam tài sắc vẹn toàn nhưng số phận bất hạnh.",
        details: "Kiều là con gái lớn trong gia đình, có tài sắc song toàn. Nàng biết chơi đàn, hát, làm thơ và có vẻ đẹp tuyệt trần. Tuy nhiên, vì chữ hiếu với cha mẹ, nàng đã phải bán mình và trải qua 15 năm lưu lạc đầy khổ đau."
      },
      kim: {
        name: "Kim Trọng",
        avatar: "🤵",
        description: "Người tình của Kiều, đại diện cho lý tưởng người con trai nho nhã, chung thủy.",
        details: "Kim Trọng là chàng trai tài giỏi, nho nhã, phải lòng Kiều từ lần đầu gặp gỡ. Dù Kiều phải xa cách 15 năm, anh vẫn chung thủy chờ đợi và cuối cùng đoàn tụ với nàng."
      },
      tuhai: {
        name: "Từ Hải",
        avatar: "⚔️",
        description: "Anh hùng hào hiệp, người đã mang đến cho Kiều những ngày tháng hạnh phúc nhất.",
        details: "Từ Hải là một anh hùng thủy tặc, có lòng hào hiệp và yêu thương Kiều chân thành. Ông đã bảo vệ Kiều khỏi những kẻ xấu và mang đến cho nàng tình yêu đích thực."
      },
      tuba: {
        name: "Tú Bà",
        avatar: "👹",
        description: "Kẻ phản diện chính, biểu tượng của sự xấu xa và lừa dối.",
        details: "Tú Bà là người đã lừa dối Kiều, đẩy nàng vào cảnh khổ đau trong lầu xanh. Bà ta đại diện cho những thế lực xấu xa trong xã hội phong kiến."
      }
    };

    // Reading progress
    window.addEventListener('scroll', updateReadingProgress);

    function updateReadingProgress() {
      const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      document.getElementById('progressBar').style.width = scrolled + '%';
    }

    // Audio controls
    function toggleAudio() {
      const playBtn = document.getElementById('playBtn');
      if (isPlaying) {
        playBtn.textContent = '🎵';
        isPlaying = false;
        // Pause audio (you can add actual audio implementation here)
      } else {
        playBtn.textContent = '⏸️';
        isPlaying = true;
        // Play audio (you can add actual audio implementation here)
      }
    }

    function changeSpeed() {
      const speedBtn = document.getElementById('speedBtn');
      const speeds = [1, 1.25, 1.5, 2];
      const currentIndex = speeds.indexOf(currentSpeed);
      const nextIndex = (currentIndex + 1) % speeds.length;
      currentSpeed = speeds[nextIndex];
      speedBtn.textContent = currentSpeed + 'x';
    }

    function toggleMute() {
      const volumeSlider = document.getElementById('volumeSlider');
      if (volumeSlider.value > 0) {
        volumeSlider.value = 0;
      } else {
        volumeSlider.value = 50;
      }
    }

    // Settings
    function toggleSettings() {
      const menu = document.getElementById('settingsMenu');
      menu.classList.toggle('show');
    }

    function changeFontSize(delta) {
      currentFontSize += delta * 10;
      currentFontSize = Math.max(80, Math.min(150, currentFontSize));
      document.getElementById('fontSizeDisplay').textContent = currentFontSize + '%';
      document.querySelector('.text-container').style.fontSize = (currentFontSize / 100) + 'em';
    }

    function toggleDarkMode() {
      isDarkMode = !isDarkMode;
      document.body.classList.toggle('dark-mode');
      document.getElementById('darkModeBtn').textContent = isDarkMode ? '☀️' : '🌙';
    }

    // Quiz functions
    function startQuiz() {
      currentQuestionIndex = 0;
      quizScore = 0;
      totalQuestions = quizQuestions.length;
      showQuestion();
      document.querySelector('.quiz-btn').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'inline-block';
    }

    function showQuestion() {
      if (currentQuestionIndex >= quizQuestions.length) {
        showQuizResults();
        return;
      }

      const question = quizQuestions[currentQuestionIndex];
      document.getElementById('questionText').textContent = `Câu ${currentQuestionIndex + 1}: ${question.question}`;

      const optionsContainer = document.getElementById('quizOptions');
      optionsContainer.innerHTML = '';

      question.options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'quiz-option';
        optionDiv.textContent = option;
        optionDiv.onclick = () => selectOption(index);
        optionsContainer.appendChild(optionDiv);
      });

      updateQuizScore();
    }

    function selectOption(selectedIndex) {
      const options = document.querySelectorAll('.quiz-option');
      options.forEach(option => option.classList.remove('selected'));
      options[selectedIndex].classList.add('selected');

      // Store selected answer
      quizQuestions[currentQuestionIndex].selected = selectedIndex;
    }

    function nextQuestion() {
      const question = quizQuestions[currentQuestionIndex];
      if (question.selected !== undefined) {
        // Show correct answer
        const options = document.querySelectorAll('.quiz-option');
        options[question.correct].classList.add('correct');
        if (question.selected !== question.correct) {
          options[question.selected].classList.add('incorrect');
        } else {
          quizScore++;
        }

        setTimeout(() => {
          currentQuestionIndex++;
          showQuestion();
        }, 2000);
      } else {
        alert('Vui lòng chọn một đáp án!');
      }
    }

    function showQuizResults() {
      document.getElementById('questionText').textContent = 'Kết quả Quiz';
      document.getElementById('quizOptions').innerHTML = `
          <div style="text-align: center; padding: 20px;">
            <h3>Bạn đã trả lời đúng ${quizScore}/${totalQuestions} câu!</h3>
            <p>${getScoreMessage()}</p>
            <button class="quiz-btn" onclick="resetQuiz()">Làm lại</button>
          </div>
        `;
      document.getElementById('nextBtn').style.display = 'none';
      updateQuizScore();
    }

    function getScoreMessage() {
      const percentage = (quizScore / totalQuestions) * 100;
      if (percentage >= 80) return 'Xuất sắc! Bạn hiểu rất rõ về Truyện Kiều! 🎉';
      if (percentage >= 60) return 'Tốt! Bạn có kiến thức khá tốt về Truyện Kiều! 👏';
      if (percentage >= 40) return 'Khá! Bạn nên đọc thêm về Truyện Kiều! 📚';
      return 'Bạn cần tìm hiểu thêm về Truyện Kiều nhé! 💪';
    }

    function resetQuiz() {
      document.querySelector('.quiz-btn').style.display = 'inline-block';
      document.getElementById('nextBtn').style.display = 'none';
      document.getElementById('questionText').textContent = 'Đang tải câu hỏi...';
      document.getElementById('quizOptions').innerHTML = '';
      // Reset selected answers
      quizQuestions.forEach(q => delete q.selected);
      updateQuizScore();
    }

    function updateQuizScore() {
      document.getElementById('quizScore').textContent = `Điểm: ${quizScore}/${totalQuestions}`;
    }

    // Timeline functions
    function showTimelinePhase(phase) {
      // Remove active class from all points
      document.querySelectorAll('.timeline-point').forEach(point => {
        point.classList.remove('active');
      });

      // Add active class to selected point
      document.querySelector(`[data-phase="${phase}"]`).classList.add('active');

      // Update content
      const data = timelineData[phase];
      document.getElementById('timelineContent').innerHTML = `
          <h4>${data.title}</h4>
          <p>${data.content}</p>
        `;
    }

    // Character functions
    function showCharacterInfo(characterId) {
      const character = characterData[characterId];
      document.getElementById('characterModalContent').innerHTML = `
          <div style="text-align: center;">
            <div style="font-size: 4rem; margin-bottom: 20px;">${character.avatar}</div>
            <h2 style="color: #2c3e50; margin-bottom: 20px;">${character.name}</h2>
            <p style="font-size: 1.1rem; color: #555; margin-bottom: 20px;">${character.description}</p>
            <div style="text-align: left; background: rgba(255, 159, 0, 0.1); padding: 20px; border-radius: 10px;">
              <h4 style="color: #ff9f00; margin-bottom: 15px;">Chi tiết:</h4>
              <p style="line-height: 1.6;">${character.details}</p>
            </div>
          </div>
        `;
      document.getElementById('characterModal').classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    function closeCharacterModal() {
      document.getElementById('characterModal').classList.remove('show');
      document.body.style.overflow = 'auto';
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function () {
      updateQuizScore();

      // Close modal when clicking outside
      document.getElementById('characterModal').addEventListener('click', function (e) {
        if (e.target === this) {
          closeCharacterModal();
        }
      });

      // Close settings menu when clicking outside
      document.addEventListener('click', function (e) {
        if (!e.target.closest('.settings-panel')) {
          document.getElementById('settingsMenu').classList.remove('show');
        }
      });
    });
  </script>
  <script type="module" src="all.js"></script>
</body>

</html>